<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Foundation Library: E:/projects/foundation_lib/foundation/bufferstream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Foundation Library
   &#160;<span id="projectnumber">1.5.2</span>
   </div>
   <div id="projectbrief">Cross-platform application foundation library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c02a266b809652a081fe9248161d9c6.html">foundation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bufferstream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="platform_8h_source.html">foundation/platform.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">foundation/types.h</a>&gt;</code><br />
</div>
<p><a href="bufferstream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afd5333c440ef0526a0807509698cbcb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structstream__t.html">stream_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferstream_8h.html#afd5333c440ef0526a0807509698cbcb5">buffer_stream_allocate</a> (void *buffer, unsigned int mode, size_t size, size_t capacity, bool adopt, bool grow)</td></tr>
<tr class="separator:afd5333c440ef0526a0807509698cbcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f2d062573b8feb65157eed1a39aafc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferstream_8h.html#ae0f2d062573b8feb65157eed1a39aafc">buffer_stream_initialize</a> (<a class="el" href="structstream__buffer__t.html">stream_buffer_t</a> *stream, void *buffer, unsigned int mode, size_t size, size_t capacity, bool adopt, bool grow)</td></tr>
<tr class="separator:ae0f2d062573b8feb65157eed1a39aafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream for memory buffer, both statically sized and dynamically reallocated buffers. Streams are not inherently thread safe, synchronization in a multithread use case must be done by caller.</p>
<p>Seeking in a buffer stream will not resize the storage buffer or change the current stream size. To change stream size and allocate buffer space use <a class="el" href="stream_8h.html#af1cb1c4f2d366f7cbb995674a79abb65">stream_truncate</a>. </p>

<p>Definition in file <a class="el" href="bufferstream_8h_source.html">bufferstream.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afd5333c440ef0526a0807509698cbcb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structstream__t.html">stream_t</a>* buffer_stream_allocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adopt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>grow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a new stream for memory buffers from an (optionally) existing buffer. The buffer can grow up to the given capacity. If adopt and grow flags set it will grow to any required size reallocating memory. The stream should be deallocated with a call to <a class="el" href="stream_8h.html#a1bafb2ac3548a0989de4880485802a04">stream_deallocate</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramname">mode</td><td>Stream open mode </td></tr>
    <tr><td class="paramname">size</td><td>Current size of data </td></tr>
    <tr><td class="paramname">capacity</td><td>Buffer capacity </td></tr>
    <tr><td class="paramname">adopt</td><td>Take ownership of buffer </td></tr>
    <tr><td class="paramname">grow</td><td>Allow growing buffer by reallocating memory (requires buffer to be adopted) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New stream </dd></dl>

</div>
</div>
<a class="anchor" id="ae0f2d062573b8feb65157eed1a39aafc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void buffer_stream_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstream__buffer__t.html">stream_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adopt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>grow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a new stream for memory buffers from an (optionally) existing buffer. The buffer can grow up to the given capacity. If adopt and grow flags set it will grow to any required size reallocating memory. The stream should be finalized with a call to <a class="el" href="stream_8h.html#a6ca40afc7c4ed7b9054f0e2135f606a7">stream_finalize</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Stream object </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramname">mode</td><td>Stream open mode </td></tr>
    <tr><td class="paramname">size</td><td>Current size of data </td></tr>
    <tr><td class="paramname">capacity</td><td>Buffer capacity </td></tr>
    <tr><td class="paramname">adopt</td><td>Take ownership of buffer </td></tr>
    <tr><td class="paramname">grow</td><td>Allow growing buffer by reallocating memory (requires buffer to be adopted) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
