<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Foundation Library: /Users/mjansson/projects/foundation_lib/foundation/bufferstream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Foundation Library
   </div>
   <div id="projectbrief">Cross-platform application foundation library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c02a266b809652a081fe9248161d9c6.html">foundation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bufferstream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stream for memory buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="platform_8h_source.html">foundation/platform.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">foundation/types.h</a>&gt;</code><br />
</div>
<p><a href="bufferstream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bf30921023b181becaf05c608a3125c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structstream__t.html">stream_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferstream_8h.html#a5bf30921023b181becaf05c608a3125c">buffer_stream_allocate</a> (void *buffer, unsigned int mode, uint64_t size, uint64_t capacity, bool adopt, bool grow)</td></tr>
<tr class="memdesc:a5bf30921023b181becaf05c608a3125c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate stream for memory buffer.  <a href="#a5bf30921023b181becaf05c608a3125c">More...</a><br /></td></tr>
<tr class="separator:a5bf30921023b181becaf05c608a3125c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686214e33b2e151ae75c69d17c32ac64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufferstream_8h.html#a686214e33b2e151ae75c69d17c32ac64">buffer_stream_initialize</a> (<a class="el" href="structstream__buffer__t.html">stream_buffer_t</a> *stream, void *buffer, unsigned int mode, uint64_t size, uint64_t capacity, bool adopt, bool grow)</td></tr>
<tr class="memdesc:a686214e33b2e151ae75c69d17c32ac64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize stream for memory buffer.  <a href="#a686214e33b2e151ae75c69d17c32ac64">More...</a><br /></td></tr>
<tr class="separator:a686214e33b2e151ae75c69d17c32ac64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream for memory buffer </p>

<p>Definition in file <a class="el" href="bufferstream_8h_source.html">bufferstream.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5bf30921023b181becaf05c608a3125c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstream__t.html">stream_t</a> * buffer_stream_allocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adopt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>grow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a new stream for memory buffers from an (optionally) existing buffer. The buffer can grow up to the given capacity. If adopt and grow flags set it will grow to any required size reallocating memory. The stream should be deallocated with a call to <a class="el" href="stream_8h.html#ad0f31f0e0b94dd6b20658e319e16206e" title="Deallocate stream. ">stream_deallocate</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramname">mode</td><td>Stream open mode </td></tr>
    <tr><td class="paramname">size</td><td>Current size of data </td></tr>
    <tr><td class="paramname">capacity</td><td>Buffer capacity </td></tr>
    <tr><td class="paramname">adopt</td><td>Take ownership of buffer </td></tr>
    <tr><td class="paramname">grow</td><td>Allow growing buffer by reallocating memory (requires buffer to be adopted) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New stream </dd></dl>

</div>
</div>
<a class="anchor" id="a686214e33b2e151ae75c69d17c32ac64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_stream_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstream__buffer__t.html">stream_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adopt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>grow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a new stream for memory buffers from an (optionally) existing buffer. The buffer can grow up to the given capacity. If adopt and grow flags set it will grow to any required size reallocating memory. The stream should be finalized with a call to <a class="el" href="stream_8h.html#a20ca82731d66e8d775f6f30849549012" title="Finalize stream. ">stream_finalize</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Stream object </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramname">mode</td><td>Stream open mode </td></tr>
    <tr><td class="paramname">size</td><td>Current size of data </td></tr>
    <tr><td class="paramname">capacity</td><td>Buffer capacity </td></tr>
    <tr><td class="paramname">adopt</td><td>Take ownership of buffer </td></tr>
    <tr><td class="paramname">grow</td><td>Allow growing buffer by reallocating memory (requires buffer to be adopted) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
