<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Foundation Library: Building the library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Foundation Library
   </div>
   <div id="projectbrief">Cross-platform application foundation library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Overview</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building the library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#overview">Overview</a><ul><li class="level2"><a href="#configs">Configurations</a><ul><li class="level3"><a href="#debug">Debug</a></li>
<li class="level3"><a href="#release">Release</a></li>
<li class="level3"><a href="#profile">Profile</a></li>
<li class="level3"><a href="#deploy">Deploy</a></li>
</ul>
</li>
<li class="level2"><a href="#output">Output</a></li>
</ul>
</li>
<li class="level1"><a href="#windows">Windows</a><ul><li class="level2"><a href="#win_vstudio">Visual Studio</a></li>
<li class="level2"><a href="#win_ninja">Ninja</a></li>
</ul>
</li>
<li class="level1"><a href="#osx">MacOS X</a><ul><li class="level2"><a href="#osx_xcode">XCode</a></li>
<li class="level2"><a href="#osx_ninja">Ninja</a></li>
</ul>
</li>
<li class="level1"><a href="#ios">iOS</a><ul><li class="level2"><a href="#ios_xcode">XCode</a></li>
<li class="level2"><a href="#ios_ninja">Ninja</a></li>
</ul>
</li>
<li class="level1"><a href="#linux">Linux</a><ul><li class="level2"><a href="#linux_ninja"></a></li>
</ul>
</li>
<li class="level1"><a href="#android">Android</a><ul><li class="level2"><a href="#android_ndk">NDK build</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="overview"></a>
Overview</h1>
<h2><a class="anchor" id="configs"></a>
Configurations</h2>
<p>The library can be built in four different build configurations with increasing amount of optimizations and decreasing amount of debug possibilities. The configurations are named debug, release, profile and deploy with the deploy configuration the recommended configuration for releases to the public.</p>
<h3><a class="anchor" id="debug"></a>
Debug</h3>
<p>In debug configuration no optimizations are enabled and all debug functionality is available in the library, including asserts, logging and error handling. This configuration is intented for development purposes.</p>
<h3><a class="anchor" id="release"></a>
Release</h3>
<p>In release configuration most optimizations are enabled and all debug functionality is available in the library, including asserts, logging and error handling. This configuration is intented for testing purposes.</p>
<h3><a class="anchor" id="profile"></a>
Profile</h3>
<p>In profile configuration all optimizations are enabled and all debug functionality is disabled in the library, including asserts, logging and error handling. Profiling hooks and measurements are included in the library code. This configuration is intented for profiling purposes, as it is identical to the final deploy build except for profiling code being enabled.</p>
<h3><a class="anchor" id="deploy"></a>
Deploy</h3>
<p>In deploy configuration all optimizations are enabled and all debug functionality is disabled in the library, including asserts, logging and error handling. Profiling is also disabled. This configuration is intented for public releases.</p>
<h2><a class="anchor" id="output"></a>
Output</h2>
<p>Libraries will be placed in lib/[platform]/[configuration]/ with platform names </p><ul>
<li>
win32 </li>
<li>
win64 </li>
<li>
macosx </li>
<li>
ios </li>
<li>
android </li>
</ul>
<p>Configuration names are </p><ul>
<li>
debug </li>
<li>
release </li>
<li>
profile </li>
<li>
deploy </li>
</ul>
<p>For android each architecture has it's own subdirectory and separate library </p><ul>
<li>
armeabi </li>
<li>
armeabi-v7a </li>
<li>
arm64-v8a </li>
<li>
x86 </li>
<li>
x86_64 </li>
<li>
mips </li>
<li>
mips64 </li>
</ul>
<p>Test cases are built as separate binaries with a launcher binary, placed in bin/[platform]/[configuration]/</p>
<h1><a class="anchor" id="windows"></a>
Windows</h1>
<p>On Windows we currently support building with Microsoft and Intel compilers with Visual Studio 2013, as well as with Microsoft, Intel, GCC and clang compilers using Ninja. Both 32-bit and 64-bit Windows are supported.</p>
<h2><a class="anchor" id="win_vstudio"></a>
Visual Studio</h2>
<p>To build with Visual Studio, open the foundation.sln solution file Visual Studio 2013 in <code>build/vs13</code>. To build all targets and configurations use batch build, select all targets and build.</p>
<h2><a class="anchor" id="win_ninja"></a>
Ninja</h2>
<p>To build with Ninja use the build configuration python script in the root directory to set the architectures and build configurations you want. Multiple architectures and build configurations can be enabled in a single build. Run configure.py with <code>-h</code> switch for help. For example, to build debug, release and deploy configurations for both 32-bit and 64-bit with intel compiler use <code>python configure.py -a x86 -a x86-64 -c debug -c release -c deploy &ndash;toolchain intel</code>.</p>
<p>The default toolchain on Windows is the Microsoft compiler suite. You should run the appropriate <code>vcvarsall.bat</code> environment setup batch script for the architecture you choose prior to starting builds (or use the preconfigured command prompts from Visual Studio installs).</p>
<p>If you use SublimeText there is a template SublimeText project with a Ninja build tool setup in <code>build/foundation.sublime-project</code>. The build requires you to have generated a ninja build with the configure.py python script.</p>
<h1><a class="anchor" id="osx"></a>
MacOS X</h1>
<h2><a class="anchor" id="osx_xcode"></a>
XCode</h2>
<p>XCode is the preferred method of building the library and test cases on MacOS X. Open the XCode workspace in <code>build/xcode/foundation-osx.xcworkspace</code> and build the appropriate targets. The workspace contains projects for both foundation library and test cases. The only supported architecture is x86-64 targetting MacOS X 10.7 or later.</p>
<h2><a class="anchor" id="osx_ninja"></a>
Ninja</h2>
<p>To build with Ninja use the build configuration python script in the root directory to set the build configurations you want. Multiple build configurations can be enabled in a single build. Run configure.py with <code>-h</code> switch for help. For example, to build debug, release and deploy configurations use <code>configure.py -c debug -c release -c deploy</code>.</p>
<p>The ninja build will use clang toolchain by default. The only supported architecture is x86-64 targetting MacOS X 10.7 or later. The ninja will use the latest SDK and clang toolchain available by using the xcrun tool to locate SDK and binary paths.</p>
<h1><a class="anchor" id="ios"></a>
iOS</h1>
<h2><a class="anchor" id="ios_xcode"></a>
XCode</h2>
<p>XCode is the preferred method of building the library and test cases for iOS. Open the XCode workspace in build/xcode/foundation-ios.xcworkspace and build the appropriate targets. The workspace contains projects for both foundation library and test cases.</p>
<h2><a class="anchor" id="ios_ninja"></a>
Ninja</h2>
<p>To build with Ninja use the build configuration python script in the root directory to set the build configurations you want. Multiple build configurations can be enabled in a single build. Run configure.py with <code>-h</code> switch for help. For example, to build debug, release and deploy configurations use <code>configure.py -c debug -c release -c deploy</code>.</p>
<p>The ninja build will use clang toolchain by default. The supported architectures are arm7 and arm64 targetting iOS 6 or later. The ninja will use the latest SDK and clang toolchain available by using the xcrun tool to locate SDK and binary paths.</p>
<h1><a class="anchor" id="linux"></a>
Linux</h1>
<h2><a class="anchor" id="linux_ninja"></a>
linux_ninja</h2>
<p>Ninja is the only supported method of building the library on Linux. To build with Ninja use the build configuration python script in the root directory to set the build configurations you want. Multiple build configurations can be enabled in a single build. Run configure.py with <code>-h</code> switch for help. For example, to build debug, release and deploy configurations use <code>configure.py -c debug -c release -c deploy</code>.</p>
<p>The ninja build will use clang toolchain by default. The supported architectures are x86, x86-64, arm6, arm7, arm64, mips and mips64.</p>
<p>If you use SublimeText there is a template SublimeText project with a Ninja build tool setup in <code>build/foundation.sublime-project</code>. The build requires you to have generated a ninja build with the configure.py python script.</p>
<h1><a class="anchor" id="android"></a>
Android</h1>
<h2><a class="anchor" id="android_ndk"></a>
NDK build</h2>
<p>The NDK build system is the only supported method of building the library and test cases for Android. You can build on any host platform supported by the Android SDK/NDK. The library and test cases are built for all supported hardware architectures available through the NDK (armeabi, armeabi-v7a, arm64-v8a, x86, x86_64, mips and mips64).</p>
<p>For armeabi the library is built in ARM instruction mode (not THUMB).</p>
<p>For armeabi-v7a the library is built in ARM instruction mode (not THUMB) and has NEON enabled.</p>
<p>From the root directory run "ndk-build -C build/android NDK_DEBUG=1" for a debug build. For other configurations, run "ndk-build -C build/android NDK_DEBUG=0 BUILD_RELEASE=1" and replace BUILD_RELEASE with the configuration wanted (BUILD_RELEASE, BUILD_PROFILE, BUILD_DEPLOY). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 8 2014 13:26:45 for Foundation Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
