<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Foundation Library: D:/foundation_lib/foundation/library.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Foundation Library
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
   <div id="projectbrief">Cross-platform application foundation library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c02a266b809652a081fe9248161d9c6.html">foundation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">library.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="platform_8h_source.html">foundation/platform.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">foundation/types.h</a>&gt;</code><br />
</div>
<p><a href="library_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad62cbeb83740c636a91cee7afcfc201f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#ad62cbeb83740c636a91cee7afcfc201f">library_load</a> (const char *name, size_t length)</td></tr>
<tr class="separator:ad62cbeb83740c636a91cee7afcfc201f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39da24785de600a62dd994c82cb769c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a39da24785de600a62dd994c82cb769c3">library_ref</a> (<a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library)</td></tr>
<tr class="separator:a39da24785de600a62dd994c82cb769c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee7210930410be36ce5948ca1ed7d96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#a4ee7210930410be36ce5948ca1ed7d96">library_unload</a> (<a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library)</td></tr>
<tr class="separator:a4ee7210930410be36ce5948ca1ed7d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04bce26885206981c3344bfa66291d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#aa04bce26885206981c3344bfa66291d4">library_symbol</a> (<a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library, const char *name, size_t length)</td></tr>
<tr class="separator:aa04bce26885206981c3344bfa66291d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae202cbb18b5353a7eeeb081896a21de0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structstring__const__t.html">string_const_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#ae202cbb18b5353a7eeeb081896a21de0">library_name</a> (<a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library)</td></tr>
<tr class="separator:ae202cbb18b5353a7eeeb081896a21de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5812bfa9c2976ad3a2700a75b60abd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="library_8h.html#abf5812bfa9c2976ad3a2700a75b60abd">library_valid</a> (<a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library)</td></tr>
<tr class="separator:abf5812bfa9c2976ad3a2700a75b60abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Dynamic library loader for platforms supporting this concept. </p>

<p>Definition in file <a class="el" href="library_8h_source.html">library.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad62cbeb83740c636a91cee7afcfc201f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library_load </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load library. Where libraries are searched is system dependent. If the same library was already previously loaded, a new reference to the same library object will be returned, otherwise a new library object will be created and referenced.</p>
<p>Use <a class="el" href="library_8h.html#a4ee7210930410be36ce5948ca1ed7d96">library_unload</a> to release a reference to a library object.</p>
<p>If the given name does not contain the platform specific dynamic library prefix and extension, the function will also try loading the library with this prefix and extension added. If the name contains a path, it should be on the standard format as returned by <a class="el" href="path_8h.html#a602f2af5a0109347ac3a72ae54a43537">path_clean</a></p>
<p>On platforms where dynamic library loading is not supported a not implemented error will be reported. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Dynamic library name (or optional path) </td></tr>
    <tr><td class="paramname">length</td><td>Length of name/path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Null if not found or error loading, library object reference if loaded successfully </dd></dl>

</div>
</div>
<a class="anchor" id="a39da24785de600a62dd994c82cb769c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a> library_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td>
          <td class="paramname"><em>library</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reference library, explicitly increase the reference count of the library object. Use <a class="el" href="library_8h.html#a4ee7210930410be36ce5948ca1ed7d96">library_unload</a> to release a reference to a library object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">library</td><td>Library object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object handle if library object is still valid, 0 if library object is no longer valid </dd></dl>

</div>
</div>
<a class="anchor" id="a4ee7210930410be36ce5948ca1ed7d96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void library_unload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td>
          <td class="paramname"><em>library</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unload library, release a reference to the library object. Once the library object has no more references, the underlying structure will be deallocated and the system resources associated will be released. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">library</td><td>Library object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa04bce26885206981c3344bfa66291d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void* library_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td>
          <td class="paramname"><em>library</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup a symbol by name in the library. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">library</td><td>Library object </td></tr>
    <tr><td class="paramname">name</td><td>Symbol name </td></tr>
    <tr><td class="paramname">length</td><td>Length of symbol name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Address of symbol, 0 if not found </dd></dl>

</div>
</div>
<a class="anchor" id="ae202cbb18b5353a7eeeb081896a21de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structstring__const__t.html">string_const_t</a> library_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td>
          <td class="paramname"><em>library</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get library name </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">library</td><td>Library object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Library name, empty string if not a valid library </dd></dl>

</div>
</div>
<a class="anchor" id="abf5812bfa9c2976ad3a2700a75b60abd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> bool library_valid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a72bc7eac2560a0cc8a0fded52453c3da">object_t</a>&#160;</td>
          <td class="paramname"><em>library</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query if valid library </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">library</td><td>Library object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if loaded and valid, false if not </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
