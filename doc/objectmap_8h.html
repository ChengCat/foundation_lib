<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Foundation Library: /Users/mjansson/projects/foundation_lib/foundation/objectmap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Foundation Library
   </div>
   <div id="projectbrief">Cross-platform application foundation library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c02a266b809652a081fe9248161d9c6.html">foundation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">objectmap.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Mapping of object handles to pointers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="platform_8h_source.html">foundation/platform.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">foundation/types.h</a>&gt;</code><br />
</div>
<p><a href="objectmap_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a28d1ba0687d79e84c1024908dfa72da4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#a28d1ba0687d79e84c1024908dfa72da4">objectmap_allocate</a> (unsigned int size)</td></tr>
<tr class="memdesc:a28d1ba0687d79e84c1024908dfa72da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate map.  <a href="#a28d1ba0687d79e84c1024908dfa72da4">More...</a><br /></td></tr>
<tr class="separator:a28d1ba0687d79e84c1024908dfa72da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2cb8f6d7cdb9c7d0aa739ddae47dfa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#ac2cb8f6d7cdb9c7d0aa739ddae47dfa9">objectmap_deallocate</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map)</td></tr>
<tr class="memdesc:ac2cb8f6d7cdb9c7d0aa739ddae47dfa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate map.  <a href="#ac2cb8f6d7cdb9c7d0aa739ddae47dfa9">More...</a><br /></td></tr>
<tr class="separator:ac2cb8f6d7cdb9c7d0aa739ddae47dfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd48446c41c91169e660f3c661d2404d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#afd48446c41c91169e660f3c661d2404d">objectmap_initialize</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, unsigned int size)</td></tr>
<tr class="memdesc:afd48446c41c91169e660f3c661d2404d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize map.  <a href="#afd48446c41c91169e660f3c661d2404d">More...</a><br /></td></tr>
<tr class="separator:afd48446c41c91169e660f3c661d2404d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a5be6d03480c983a9c3436f48af9e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#a26a5be6d03480c983a9c3436f48af9e5">objectmap_finalize</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map)</td></tr>
<tr class="memdesc:a26a5be6d03480c983a9c3436f48af9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize map.  <a href="#a26a5be6d03480c983a9c3436f48af9e5">More...</a><br /></td></tr>
<tr class="separator:a26a5be6d03480c983a9c3436f48af9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a3067b4b49ae64199b458143097765"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#af9a3067b4b49ae64199b458143097765">objectmap_size</a> (const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *map)</td></tr>
<tr class="memdesc:af9a3067b4b49ae64199b458143097765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of map.  <a href="#af9a3067b4b49ae64199b458143097765">More...</a><br /></td></tr>
<tr class="separator:af9a3067b4b49ae64199b458143097765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a85177497e9b6df85f1553d30379e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#a71a85177497e9b6df85f1553d30379e2">objectmap_reserve</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map)</td></tr>
<tr class="memdesc:a71a85177497e9b6df85f1553d30379e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve slot.  <a href="#a71a85177497e9b6df85f1553d30379e2">More...</a><br /></td></tr>
<tr class="separator:a71a85177497e9b6df85f1553d30379e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76d4f673b3b748c1388868788dac831"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#ab76d4f673b3b748c1388868788dac831">objectmap_free</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> id)</td></tr>
<tr class="memdesc:ab76d4f673b3b748c1388868788dac831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free slot.  <a href="#ab76d4f673b3b748c1388868788dac831">More...</a><br /></td></tr>
<tr class="separator:ab76d4f673b3b748c1388868788dac831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50457ef68fc466fcd75749396cef42e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#a50457ef68fc466fcd75749396cef42e3">objectmap_set</a> (<a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> id, void *object)</td></tr>
<tr class="memdesc:a50457ef68fc466fcd75749396cef42e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set object pointer.  <a href="#a50457ef68fc466fcd75749396cef42e3">More...</a><br /></td></tr>
<tr class="separator:a50457ef68fc466fcd75749396cef42e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac464bba082fbaed0cb95a105f758551a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#ac464bba082fbaed0cb95a105f758551a">objectmap_raw_lookup</a> (const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, unsigned int index)</td></tr>
<tr class="memdesc:ac464bba082fbaed0cb95a105f758551a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw lookup.  <a href="#ac464bba082fbaed0cb95a105f758551a">More...</a><br /></td></tr>
<tr class="separator:ac464bba082fbaed0cb95a105f758551a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf470b190647bebcd4d7dceab5f26957"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="platform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="el" href="platform_8h.html#a5b0965f82bb7fca45cb8c3e932a9edfb">PURECALL</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#abf470b190647bebcd4d7dceab5f26957">objectmap_lookup</a> (const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> id)</td></tr>
<tr class="memdesc:abf470b190647bebcd4d7dceab5f26957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map object to pointer.  <a href="#abf470b190647bebcd4d7dceab5f26957">More...</a><br /></td></tr>
<tr class="separator:abf470b190647bebcd4d7dceab5f26957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2faf56a6a48b3cbfedbccf70c5f66e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#ac2faf56a6a48b3cbfedbccf70c5f66e9">objectmap_lookup_ref</a> (const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> id)</td></tr>
<tr class="separator:ac2faf56a6a48b3cbfedbccf70c5f66e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42575a6489d916558842fed30a671c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#ab5d798081ff1e38fc8d86a56b852da8e">FOUNDATION_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="objectmap_8h.html#ae42575a6489d916558842fed30a671c8">objectmap_lookup_unref</a> (const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *map, <a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> id, <a class="el" href="types_8h.html#a54737ac17fa500d756c70c006a351ad8">object_deallocate_fn</a> deallocate)</td></tr>
<tr class="separator:ae42575a6489d916558842fed30a671c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mapping of object handles to object pointers, thread safe and lock free </p>

<p>Definition in file <a class="el" href="objectmap_8h_source.html">objectmap.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a28d1ba0687d79e84c1024908dfa72da4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structobjectmap__t.html">objectmap_t</a> * objectmap_allocate </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate storage for new map with the given number of object slots. The object map should be deallocated with a call to <a class="el" href="objectmap_8h.html#ac2cb8f6d7cdb9c7d0aa739ddae47dfa9" title="Deallocate map. ">objectmap_deallocate</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of slots </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New object map </dd></dl>

</div>
</div>
<a class="anchor" id="ac2cb8f6d7cdb9c7d0aa739ddae47dfa9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void objectmap_deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocate an object map previously allocated with a call to <a class="el" href="objectmap_8h.html#a28d1ba0687d79e84c1024908dfa72da4" title="Allocate map. ">objectmap_allocate</a>. Does not free the stored objects, only map storage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd48446c41c91169e660f3c661d2404d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void objectmap_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize object mapwith the given number of object slots. The object map should be finalized with a call to <a class="el" href="objectmap_8h.html#a26a5be6d03480c983a9c3436f48af9e5" title="Finalize map. ">objectmap_finalize</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">size</td><td>Number of slots </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a26a5be6d03480c983a9c3436f48af9e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void objectmap_finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalize an object map previously initialized with a call to <a class="el" href="objectmap_8h.html#afd48446c41c91169e660f3c661d2404d" title="Initialize map. ">objectmap_initialize</a>. Does not free the stored objects. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af9a3067b4b49ae64199b458143097765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int objectmap_size </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get size of map (number of object slots) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of map </dd></dl>

</div>
</div>
<a class="anchor" id="a71a85177497e9b6df85f1553d30379e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a> objectmap_reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reserve a slot in the map </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New object handle, 0 if none available </dd></dl>

</div>
</div>
<a class="anchor" id="ab76d4f673b3b748c1388868788dac831"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void objectmap_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a slot in the map </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">id</td><td>Object handle to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a50457ef68fc466fcd75749396cef42e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void objectmap_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set object pointer for given slot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">id</td><td>Object handle </td></tr>
    <tr><td class="paramname">object</td><td>Object pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac464bba082fbaed0cb95a105f758551a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * objectmap_raw_lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Raw lookup of object pointer for map index </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">index</td><td>Map index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object pointer </dd></dl>

</div>
</div>
<a class="anchor" id="abf470b190647bebcd4d7dceab5f26957"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * objectmap_lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Map object handle to object pointer. This function is unsafe in the sense that it might return an object pointer which points to an invalid (deallocated) object if the object reference count was decreased in another thread while this function is executing. The object lifetime is also not guaranteed in any code using the returned object. For a safe function use objectmap_lookup_ref </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">id</td><td>Object handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object pointer, 0 if invalid/outdated handle </dd></dl>

<p>Definition at line <a class="el" href="objectmap_8h_source.html#l00036">36</a> of file <a class="el" href="objectmap_8h_source.html">objectmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2faf56a6a48b3cbfedbccf70c5f66e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * objectmap_lookup_ref </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map object handle to object pointer and increase ref count. This function is safe in the sense that it will only return an object pointer if the ref count was successfully increased and object is still valid. Once the caller has finished using the object returned, the handle should be released and reference count decreased by a call to the appropriate destroy function (for eaxmple, a thread this would be thread_destroy). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">id</td><td>Object handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object pointer, 0 if invalid/outdated handle </dd></dl>

</div>
</div>
<a class="anchor" id="ae42575a6489d916558842fed30a671c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool objectmap_lookup_unref </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobjectmap__t.html">objectmap_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a08176e098ef1768097449c2ffca40411">object_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a54737ac17fa500d756c70c006a351ad8">object_deallocate_fn</a>&#160;</td>
          <td class="paramname"><em>deallocate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map object handle to object pointer and decrease ref count. If the object reference count reaches zero the object is deallocated by a call to the deallocation function. This function is safe in the sense that it will work correctly across threads also using the object_lookup_ref and object_lookup_unref functions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Object map </td></tr>
    <tr><td class="paramname">id</td><td>Object handle </td></tr>
    <tr><td class="paramname">deallocate</td><td>Deallocation function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if object is still valid, false if it was deallocated </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 8 2014 13:26:44 for Foundation Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
